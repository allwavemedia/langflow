/* CopilotKit Chat Overrides for ModernChatInterface */
/* These styles override CopilotKit's default window behavior to work within our container */

.modern-chat-container .copilotKitWindow {
  position: static !important;
  inset: auto !important;
  transform: none !important;
  border-radius: 0 !important;
  box-shadow: none !important;
  opacity: 1 !important;
  pointer-events: auto !important;
  width: 100% !important;
  height: 100% !important;
  max-height: 100% !important;
  min-height: 100% !important;
  top: auto !important;
  bottom: auto !important;
  left: auto !important;
  right: auto !important;
  margin: 0 !important;
  z-index: auto !important;
}

.modern-chat-container .copilotKitWindow.open {
  transform: none !important;
  opacity: 1 !important;
  pointer-events: auto !important;
}

.modern-chat-container .copilot-chat-isolation .copilotKitChat {
  height: 100% !important;
  display: flex !important;
  flex-direction: column !important;
  width: 100% !important;
  max-height: 100% !important;
}

.modern-chat-container .copilotKitMessages {
  flex: 1 !important;
  overflow-y: auto !important;
  max-height: none !important;
  height: 100% !important;
  min-height: 0 !important;
}

/* Ensure the chat input stays at bottom */
.modern-chat-container .copilotKitInput {
  flex-shrink: 0 !important;
  width: 100% !important;
}

/* Additional overrides for better integration */
.modern-chat-container .copilotKitWindow .copilotKitChat {
  height: 100% !important;
  max-height: 100% !important;
  width: 100% !important;
}

/* Force CopilotKit to respect our container boundaries */
.modern-chat-container .copilotKitWindow,
.modern-chat-container .copilotKitWindow * {
  box-sizing: border-box !important;
}

/* Override any media query styles that might interfere */
@media (min-width: 640px) {
  .modern-chat-container .copilotKitWindow {
    width: 100% !important;
    height: 100% !important;
    max-height: 100% !important;
    position: static !important;
    inset: auto !important;
    bottom: auto !important;
    right: auto !important;
    top: auto !important;
    left: auto !important;
  }
}

/* Additional containment for the isolation wrapper */
.copilot-chat-isolation {
  position: relative !important;
  width: 100% !important;
  height: 100% !important;
  overflow: hidden !important;
  display: flex !important;
  flex-direction: column !important;
}
